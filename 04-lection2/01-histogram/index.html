<!DOCTYPE html>
<!-- Страница с гистограммой -->
<html lang="ru">
  <head>
    <link rel="stylesheet" href="../../assets/css/main.css" />
    <link rel="stylesheet" href="./histogram.css" />
    <script src="../../assets/js/components/gistogram.js"></script>
  </head>
  <body>
    <div class="histogram">
      <div class="histogram__summary">
        <div class="histogram__info">
          <div class="histogram__label">Total orders</div>
          <div class="histogram__total"></div>
        </div>
        <div class="histogram__link">
          <a href="#">View all</a>
        </div>
      </div>
      <div class="histogram__main">
        <!-- <div class="histogram__scale">
          <div class="histogram__row-number">100</div>
          <div class="histogram__row-number">75</div>
          <div class="histogram__row-number">50</div>
          <div class="histogram__row-number">25</div>
        </div>
        <div class="histogram__chart">
          <div class="histogram__grid">
            <div class="histogram__row"></div>
            <div class="histogram__row"></div>
            <div class="histogram__row"></div>
            <div class="histogram__row"></div>
          </div>
        </div> -->
      </div>
    </div>
    <script>
      const barContainer =
        document.getElementsByClassName('histogram__main')[0];
      const data = Array.from({ length: 30 }, () => randomInteger(1, 100));

      new Chart({
        container: barContainer,
        type: 'bar',
        data: data,
      }).render();

      const total = data.reduce((prev, curr) => {
        return prev + curr;
      }, 0);

      document.getElementsByClassName('histogram__total')[0].textContent =
        total;

      function randomInteger(min, max) {
        // получить случайное число от (min-0.5) до (max+0.5)
        let rand = min - 0.5 + Math.random() * (max - min + 1);
        return Math.round(rand);
      }
    </script>
  </body>
</html>
